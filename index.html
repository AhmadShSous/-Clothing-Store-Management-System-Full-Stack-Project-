<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <img src="projectBase/project.jpg" alt="Logo">
        <div class="navbar">
            <div class="navbar-links">
                <a href="http://localhost/index.html">Manager Management</a>
                <a href="http://localhost/employeesAll.html">Employees Management</a>
                <a href="http://localhost/import_products.php">Product Management</a>
                <a href="http://localhost/orders.html">All Orders</a>
            </div>
        </div>
    </div>


    <div class="container">
        <h1>Manager Management</h1>

        <!-- Table to Display Managers -->
        <div class="table-container">
            <table id="managerTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Phone</th>
                        <th>Salary</th>
                        <th>Age</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows will be added dynamically using PHP -->
                </tbody>
            </table>
        </div>

        <!-- Action Buttons -->
        <div class="buttons">
            <button onclick="showForm('addForm')">Add</button>
            <button onclick="showForm('deleteForm')">Delete(Become inactive)</button>
            <button onclick="showForm('updateForm')">Update</button>
        </div>
         <!-- Query Results search -->
        <div id="queryOutput" class="query-results">
            <h2>Query Results</h2>
            <form action="process.php" method="POST">
                <input type="text" name="search_name" placeholder="Search by Name">
                <input type="email" name="search_email" placeholder="Search by Email">
                <button type="submit" name="action" value="search">Search</button>
            </form>
            <div id="queryContent"></div>
        </div>
        <!-- Add Manager Form -->
        <div id="addForm" class="form hidden">
            <h2>Add Manager</h2>
            <form action="process.php" method="POST">
                <label for="add_name">Name:</label>
                <input type="text" id="add_name" name="name" required>

                <label for="add_Gender">Gender:</label>
                <select id="Gender" name="Gender" required>
                    <option value="" disabled selected>Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            
                
                <label for="add_email">Email:</label>
                <input type="email" id="add_email" name="email" required>

                <label for="add_password">password:</label>
                <input type="Password" id="add_password" name="Password" required>

                <label for="add_address">Address:</label>
                <input type="text" id="add_address" name="address" required>

                <label for="add_phone">Phone:</label>
                <input type="text" id="add_phone" name="phone" required>

                <label for="add_salary">Salary:</label>
                <input type="text" id="add_salary" name="salary" required>

                <label for="add_age">Age:</label>
                <input type="number" id="add_age" name="age" required>


                <button type="submit" name="action" value="add">Add Manager</button>
            </form>
        </div>

        <!-- Delete Manager Form -->
        <div id="deleteForm" class="form hidden">
            <h2>Delete Manager</h2>
            <form action="process.php" method="POST">
                <label for="delete_id">Manager ID:</label>
                <input type="number" id="delete_id" name="id" required>

                <button type="submit" name="action" value="delete">Delete Manager</button>
            </form>
        </div>

        <!-- Update Manager Form -->
        <div id="updateForm" class="form hidden">
            <h2>Update Manager</h2>
            <form action="process.php" method="POST">
                <label for="update_id">Manager ID:</label>
                <input type="number" id="update_id" name="id" required>

                <label for="update_name">Name:</label>
                <input type="text" id="update_name" name="name">
                 
                <label for="update_Gender">Gender:</label>
                <select id="Gender" name="Gender" required>
                    <option value="" disabled selected>Select Gender</option>
                    <option value="">No change</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            
                <label for="update_email">Email:</label>
                <input type="email" id="update_email" name="email">

                <label for="update_password">password:</label>
                <input type="password" id="add_password" name="Password" required>


                <label for="update_address">Address:</label>
                <input type="text" id="update_address" name="address">

                <label for="update_phone">Phone:</label>
                <input type="text" id="update_phone" name="phone">

                <label for="update_salary">Salary:</label>
                <input type="text" id="update_salary" name="salary">

                <label for="update_age">Age:</label>
                <input type="number" id="update_age" name="age">

                 <!-- إضافة خيار الـ Status -->
      <!-- إضافة خيار الـ Status -->
                <label for="status">Status:</label>
                <select name="status">
                    <option value="active">active</option>
                    <option value="">No Change</option>
                </select><br><br>

                <button type="submit" name="action" value="update">Update Manager</button>
            </form>
        </div>

        <!-- Query Results -->
        <div id="queryOutput" class="query-results">
            <h2>Query Results</h2>
            <button onclick="fetchQuery('selectAll')">Show All Managers</button>
            <div id="queryContent"></div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

        <div id="states-form" style="display: none;">
            <h1>Product Statistics</h1>
            <table id="statsTable" border="1">
                <thead>
                    <tr>
                        <th>Statistic</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <div id="charts-container" style="display: flex; justify-content: space-between; width: 100%; padding: 10px;">
                <canvas id="productChart" style="width: 48%; height: 300px;"></canvas> <!--هون للرواتب-->
                <canvas id="profitChart" style="width: 48%; height: 300px;"></canvas> <!--هون gender-->>
            </div>

        </div>
        <button onclick="toggleShowStatesForm()" style="display: block; margin: 20px auto; padding: 10px 20px; font-size: 16px;">Show States</button>

    

    </div>
    <script src="script.js"></script>
</body>
</html>
